<?xml version="1.0"?>
<!--
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */
-->
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:ObjectManager/etc/config.xsd">
  <type name="Magento\Cms\Block\Adminhtml\Wysiwyg\Images\Content">
    <plugin name="add_imagekit_button" type="ImageKit\ImageKitMagento\Plugin\AddFromImageKitButton"/>
  </type>

  <preference for="Magento\Catalog\Block\Adminhtml\Product\Helper\Form\Gallery\Content" type="ImageKit\ImageKitMagento\Block\Adminhtml\Product\Helper\Form\Gallery\Content" />

  <type name="Magento\Cms\Model\Wysiwyg\Images\Storage">
    <arguments>
      <argument name="extensions" xsi:type="array">
        <item name="allowed" xsi:type="array">
          <item name="mp4" xsi:type="number">1</item>
          <item name="webm" xsi:type="number">1</item>
          <item name="ogv" xsi:type="number">1</item>
          <item name="mov" xsi:type="number">1</item>
        </item>
        <item name="media_allowed" xsi:type="array">
          <item name="mp4" xsi:type="number">1</item>
          <item name="webm" xsi:type="number">1</item>
          <item name="ogv" xsi:type="number">1</item>
          <item name="mov" xsi:type="number">1</item>
        </item>
      </argument>
    </arguments>
  </type>

</config>